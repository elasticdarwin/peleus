
#{fixture delete:'all', load:'fixtures.yml' /}


#{selenium 'Test Publish Share Session at Backyard'}

*{
TODO find out the meaning of clickAndWait and verify***
}*

clearSession()

open(@@{dashboard.Dashboard.index()})
assertTextNotPresent('Gof Design Patterns with Java')

open(@@{backyard.ShareSessionController.index()})

assertTextPresent('分享活动管理')
assertTextPresent('分享活动主题')
assertTextPresent('Gof Design Patterns with Java')

clickAndWait('//tr[@class="session_1"]//input[@value="发布"]')

assertLocation(@@{backyard.ShareSessionController.index()})

assertElementPresent('//tr[@class="session_1"]//input[@value="关闭"]')

open(@@{dashboard.Dashboard.index()})
assertTextPresent('Gof Design Patterns with Java')

open(@@{backyard.ShareSessionController.index()})
clickAndWait('//tr[@class="session_1"]//input[@class="close"]')

assertLocation(@@{backyard.ShareSessionController.index()})

assertElementPresent('//tr[@class="session_1"]//input[@value="发布"]')

open(@@{dashboard.Dashboard.index()})
assertTextNotPresent('Gof Design Patterns with Java')


#{/selenium}