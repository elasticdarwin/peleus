
#{fixture delete:'all', load:'fixtures.yml' /}


#{selenium 'Test Publish Share Session at Backyard'}

*{
TODO find out the meaning of clickAndWait and verify***
}*

clearSession()

open(@@{dashboard.Dashboard.index()})
assertTextNotPresent('Gof Design Patterns with Java')

open(@@{backyard.ShareSessionController.index()})

assertTextPresent('View All Share Sessions')
assertTextPresent('Subject')
assertTextPresent('Gof Design Patterns with Java')

assertElementPresent('//tr[@class="session_1"]//input[@value="publish"]')
clickAndWait('//tr[@class="session_1"]//input[@value="publish"]')

assertLocation(@@{backyard.ShareSessionController.index()})

assertElementPresent('//tr[@class="session_1"]//input[@value="close"]')

open(@@{dashboard.Dashboard.index()})
assertTextPresent('Gof Design Patterns with Java')

open(@@{backyard.ShareSessionController.index()})
clickAndWait('//tr[@class="session_1"]//input[@class="close"]')

assertLocation(@@{backyard.ShareSessionController.index()})

assertElementPresent('//tr[@class="session_1"]//input[@value="publish"]')

open(@@{dashboard.Dashboard.index()})
assertTextNotPresent('Gof Design Patterns with Java')


#{/selenium}