


<form id="action_form" action="" method="post">
    <input type="hidden" name="id" value="${share_session.id}"></input>


    #{if (utils.statemachine.ShareSessionStateMachine.couldAccept(share_session, utils.statemachine.ShareSessionTransition.PUBLISH))}
    <input type="button" onClick="javascript:doSubmit('@{backyard.ShareSessionController.publish(share_session.id)}');" class="publish" value="&{'common.basic.actions.publish'}"></input>
    |
    #{/if}
    #{elseif (utils.statemachine.ShareSessionStateMachine.couldAccept(share_session, utils.statemachine.ShareSessionTransition.CLOSE))}
    <input type="button"  onClick="javascript:doSubmit('@{backyard.ShareSessionController.close(share_session.id)}');" class="close" value="&{'common.basic.actions.close'}"></input>
    |
    #{/elseif}
    <a href="@{backyard.ShareSessionController.edit(share_session.id)}" class="edit">&{'common.basic.actions.edit'}</a>
    #{if (utils.statemachine.ShareSessionStateMachine.couldAccept(share_session, utils.statemachine.ShareSessionTransition.DELETE))}
    | <a href="@{backyard.ShareSessionController.delete_confirm(share_session.id)}" class="delete">&{'common.basic.actions.delete'}</a>
    #{/if}
</form>


<script type="text/javascript">

    function doSubmit(action) {
        var form=document.getElementById("action_form");

        form.setAttribute("action", action);

        form.submit();
    }
</script>
